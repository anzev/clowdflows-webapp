<main class="container" *ngIf="workflow">
    <h1>{{ workflow.name }} stream</h1>
    <div class="well">
        <table class="table table-condensed">
            <tbody>
            <tr>
                <td style="width:20%;"><b>Stream status</b></td>
                <td>
                    <span class="label label-success" *ngIf="stream.active">Active</span>
                    <span class="label label-warning" *ngIf="!stream.active">Inactive</span>
                </td>
            </tr>
            <tr>
                <td><b>Last heartbeat</b></td>
                <td>{{ stream.last_executed }}</td>
            </tr>
            <tr>
                <td><b>Period</b></td>
                <td>{{stream.period}} seconds</td>
            </tr>
            <tr>
                <td><b>Workflow</b></td>
                <td><a [routerLink]="['/workflow/', workflow.id]">{{ workflow.name }}</a></td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <a (click)="deactivate()" class="btn btn-warning btn-large" *ngIf="stream.active">Deactivate</a>
            <a (click)="activate()" class="btn btn-success btn-large" *ngIf="!stream.active">Activate</a>
            <a (click)="reset()" class="reset-stream btn btn-warning btn-danger btn-large">Reset</a>
        </div>
    </div>
    <hr>

    <h1>Results widgets</h1>
    <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th>Widget title</th>
            <th>Results</th>
        </tr>

        </thead>
        <tbody>

        <tr *ngFor="let widget of stream.stream_visualization_widgets">
            <td class="name">{{ widget.name }}</td>
            <td><a [routerLink]="['/streams/data/', stream.id, widget.id]" class="btn btn-sm btn-default">View results</a></td>
        </tr>

        </tbody>

    </table>
</main>
<footer-comp></footer-comp>